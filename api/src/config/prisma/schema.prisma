datasource db {
  provider = "mongodb"
  url      = env("DB_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id          String   @id @default(auto()) @map("_id") @db.ObjectId
  name        String
  email       String   @unique
  password    String
  gender      Gender?
  dateOfBirth String?
  isBlocked   Boolean  @default(false)
  permissions String[]
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@map("users")
}

model Permission {
  id          String         @id @default(auto()) @map("_id") @db.ObjectId
  name        PermissionName @unique
  description String?
  createdAt   DateTime       @default(now())
  updatedAt   DateTime       @updatedAt

  @@map("permissions")
}

enum Gender {
  MALE
  FEMALE
  OTHER
}

// Each name must have the following structure: {api_endpoint}:{action}. For example:
// - 'user:create' for the permission to create users
// - 'user:read' for the permission to read users
// - 'user:update' for the permission to update users
enum PermissionName {
  USER_CREATE
}
